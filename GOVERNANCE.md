# PRISM-Gateway 项目治理文档

## 目录

- [项目治理模式](#项目治理模式)
- [项目角色](#项目角色)
- [决策流程](#决策流程)
- [版本发布流程](#版本发布流程)
- [社区参与](#社区参与)
- [冲突解决](#冲突解决)
- [知识产权管理](#知识产权管理)
- [财务管理](#财务管理)

---

## 项目治理模式

PRISM-Gateway 采用 **BDFL（仁慈独裁者）** 治理模式，当前维护者是 **PAI System / 隔壁老王**。

### 治理原则

1. **开放性**: 项目决策过程公开透明
2. **精英制**: 技术贡献说话，而非地位或身份
3. **社区优先**: 社区利益高于个人利益
4. **渐进式**: 治理模式随项目成熟度逐步演进

### BDFL 职责

项目创始人（仁慈独裁者）拥有以下职责：

- **技术方向决策**: 确定项目技术路线和架构方向
- **代码合并批准**: 对拉取请求有最终批准权
- **版本发布决定**: 决定何时发布新版本
- **社区争议裁决**: 解决社区内部争议
- **维护者任命**: 任命和罢免项目维护者

### 权力制衡

虽然采用 BDFL 模式，但以下机制确保权力不被滥用：

- **公开讨论**: 所有重大决策在公开论坛讨论
- **社区反馈**: BDFL 应听取社区意见
- **贡献记录**: 所有决定可追溯和审计
- **分支自由**: 任何人都可以创建项目分支

---

## 项目角色

### 维护者（Maintainers）

维护者是对项目有长期贡献并获得信任权限的社区成员。

#### 当前维护者

| 姓名 | 角色 | 职责范围 | 联系方式 |
|------|------|----------|----------|
| PAI System | 技术负责人 | 架构设计、核心模块、技术决策 | @pai-system |
| 隔壁老王 | 项目发起人 | 项目管理、社区协调、发布管理 | @隔壁老王 |

#### 维护者职责

- **代码审查**: 审查和合并 Pull Requests
- **问题处理**: 回复和分类 GitHub Issues
- **版本发布**: 准备和发布新版本
- **安全管理**: 处理安全漏洞报告
- **路线图维护**: 维护项目发展路线图
- **社区管理**: 促进健康社区讨论
- **文档维护**: 保持项目文档更新

#### 成为维护者

维护者从活跃的贡献者中选拔，基于以下标准：

1. **贡献记录**: 持续贡献至少 3 个月
2. **代码质量**: 提交的代码质量高，有良好测试覆盖
3. **社区参与**: 积极参与讨论，帮助其他用户
4. **文化契合**: 理解并维护项目文化

新维护者由现有维护者提名，经 BDFL 批准后任命。

### 贡献者（Contributors）

任何对项目做出贡献的人都是贡献者。

#### 贡献类型

- **代码贡献**: 提交 Pull Requests
- **文档贡献**: 改进文档
- **问题报告**: 报告 Bug 或提出功能请求
- **社区支持**: 在论坛回答问题
- **测试反馈**: 提供测试和反馈

#### 贡献者权益

- 代码贡献被永久记录
- 影响项目功能和发展方向
- 可晋升为维护者
- 在贡献者列表中署名

### 用户（Users）

使用项目的开发者或组织是项目的用户。

#### 用户角色

- **反馈提供**: 提供使用反馈
- **功能请求**: 提出功能需求
- **Bug 报告**: 报告问题
- **社区参与**: 参与讨论

---

## 决策流程

### 技术决策

#### 轻量级决策

对于不涉及重大架构变更的决策：

1. 在 GitHub Issues 或 Discussions 提出提案
2. 等待至少 7 天社区反馈
3. 维护者评估反馈后做出决定
4. 公布决定和理由

#### 重量级决策

对于涉及重大架构变更、破坏性变更的决策：

1. 创建 RFC（Request for Comments）文档
2. 社区讨论至少 14 天
3. 所有维护者必须表达意见
4. BDFL 做出最终决定
5. 公布决定和实施计划

### 代码审查

#### 审查流程

1. **提交 PR**: 贡献者提交 Pull Request
2. **自动检查**: CI 运行测试和代码检查
3. **人工审查**: 至少 1 位维护者审查代码
4. **修改请求**: 如有问题，维护者要求修改
5. **批准合并**: 审查通过后合并

#### 审查标准

- **代码质量**: 符合项目编码规范
- **测试覆盖**: 新代码有相应测试
- **文档更新**: 必要时更新文档
- **向后兼容**: 除非有充分理由，不破坏兼容性
- **安全考虑**: 不引入安全漏洞

### 投票机制

通常情况下，项目不使用投票机制。但在以下情况可能使用：

- **选举新维护者**: 现有维护者投票
- **争议解决**: BDFL 可能要求社区投票
- **重大变更**: BDFL 可能要求社区投票表达意见

---

## 版本发布流程

### 版本号规则

PRISM-Gateway 遵循 [语义化版本](https://semver.org/lang/zh-CN/)：

- **主版本（Major）**: 破坏性变更，如 2.0.0 → 3.0.0
- **次版本（Minor）**: 新功能，向后兼容，如 2.4.0 → 2.5.0
- **修订版本（Patch）**: Bug 修复，向后兼容，如 2.4.0 → 2.4.1

### 发布流程

#### 1. 发布候选（Release Candidate）

对于主版本和次版本：

1. 创建发布分支：`release-x.y.z`
2. 在分支上进行最后调整
3. 发布 RC 版本供社区测试
4. 收集反馈并修复关键问题

#### 2. 正式发布

1. **版本冻结**: 停止合并新功能
2. **更新版本号**: 更新 package.json 中的版本号
3. **更新 CHANGELOG**: 编写详细的变更日志
4. **创建 Git 标签**: 创建带注释的 Git 标签
5. **构建发布**: 构建发布包
6. **发布公告**: 在 GitHub 发布公告

#### 3. 发布后

- **监控**: 监控新版本的问题报告
- **快速修复**: 如有严重问题，快速发布补丁
- **文档更新**: 更新相关文档

### 发布节奏

- **主版本**: 按需发布，通常 6-12 个月
- **次版本**: 每月或每双月发布
- **修订版本**: 按需发布，通常每周

### 支持策略

- **当前主版本**: 完全支持，积极维护
- **前一个主版本**: 安全修复支持
- **更早版本**: 不再支持

---

## 社区参与

### 贡献方式

我们欢迎各种形式的贡献！

#### 代码贡献

```bash
# 1. Fork 项目
git clone https://github.com/your-username/prism-gateway-docs.git

# 2. 创建分支
git checkout -b feature/your-feature-name

# 3. 提交更改
git commit -m "Add: your feature description"

# 4. 推送到 Fork
git push origin feature/your-feature-name

# 5. 创建 Pull Request
# 在 GitHub 上创建 Pull Request
```

#### 文档贡献

- 改进现有文档
- 添加使用示例
- 翻译文档
- 修正错误

#### 其他贡献

- 报告 Bug
- 提出功能请求
- 帮助其他用户
- 分享使用经验

### 讨论平台

| 平台 | 用途 | 链接 |
|------|------|------|
| GitHub Issues | Bug 报告、功能请求 | [issues](https://github.com/starlink-awaken/prism-gateway-docs/issues) |
| GitHub Discussions | 技术讨论、问答 | [discussions](https://github.com/starlink-awaken/prism-gateway-docs/discussions) |
| Pull Request Reviews | 代码审查 | [pulls](https://github.com/starlink-awaken/prism-gateway-docs/pulls) |

### 会议与活动

- **周例会**: 每周五线上会议，讨论项目进展
- **社区沙龙**: 每季度一次，分享使用经验
- **年度峰会**: 年度技术峰会，发布重大版本

---

## 冲突解决

### 轻微冲突

对于技术分歧或小规模冲突：

1. **双方协商**: 相关方私下讨论
2. **社区讨论**: 在 Discussions 征求意见
3. **维护者裁决**: 由相关领域维护者裁决

### 严重冲突

对于涉及社区规则或重大分歧：

1. **正式报告**: 通过正式渠道报告
2. **证据收集**: 收集相关证据和信息
3. **社区讨论**: 在公开论坛讨论
4. **投票**: 如需要，组织社区投票
5. **BDFL 裁决**: BDFL 做出最终决定

### 申诉流程

对裁决不满的个人可以申诉：

1. 向 BDFL 提交书面申诉
2. 说明理由并提供证据
3. BDFL 审查并回应
4. 最终决定为最终决定

---

## 知识产权管理

### 许可证

PRISM-Gateway 使用 MIT 许可证。所有贡献者同意其贡献以相同许可证发布。

### 贡献者许可协议（CLA）

目前项目不要求签署 CLA，但提交 Pull Request 即表示：

1. 你有权提交该贡献
2. 你同意该贡献以 MIT 许可证发布
3. 你声明贡献是原创作品

### 商标

"PRISM-Gateway" 名称和标识是项目商标。使用需要明确授权。

---

## 财务管理

### 资金来源

项目目前无商业资金，依靠：

- **志愿者贡献**: 社区志愿者的时间和精力
- **基础设施捐赠**: 如 CI/CD 平台的免费额度
- **社区赞助**: 接受社区小额赞助

### 资金使用

如未来有资金，将用于：

- **基础设施**: 服务器、域名、CI/CD
- **社区活动**: 会议、沙龙
- **开发工具**: IDE 许可证等
- **安全审计**: 专业安全审计服务

### 财务透明

所有财务收支将定期向社区公开报告。

---

## 版本控制

### 仓库信息

- **Git 仓库**: https://github.com/starlink-awaken/prism-gateway-docs
- **主分支**: `main`
- **License**: MIT

### 分支策略

| 分支类型 | 命名规则 | 用途 |
|----------|----------|------|
| 主分支 | `main` | 稳定发布代码 |
| 开发分支 | `dev` | 开发中的功能（如使用） |
| 功能分支 | `feature/*` | 新功能开发 |
| 修复分支 | `fix/*` | Bug 修复 |
| 发布分支 | `release-x.y.z` | 版本发布准备 |
| 热修复分支 | `hotfix-x.y.z` | 紧急修复 |

### 保护分支

以下分支受保护，需要审查才能合并：

- `main`: 主分支
- `release-*`: 发布分支
- `v*-branch`: 版本分支

---

## 治理演进

### 当前阶段（v2.x）

- BDFL 治理模式
- 小型维护团队
- 社区驱动贡献

### 未来规划

随着项目成熟，可能考虑：

- **成立技术委员会**: 分散技术决策
- **引入 RFC 流程**: 更正式的提案流程
- **社区投票**: 对重大问题进行投票
- **基金会托管**: 考虑加入开源基金会

---

## 联系方式

### 项目领导

- **项目创始人**: conduct@prism-gateway.dev
- **技术问题**: GitHub Discussions

### 紧急联系

- **安全问题**: security@prism-gateway.dev
- **行为准则**: conduct@prism-gateway.dev

---

*本治理文档最后更新：2026-02-07*
*版本：1.0.0*
